
$top-bar-font-family: "Flama", #{$font-fallback};
$top-bar-bg: black;
$top-bar-height: 30px;
$top-bar-padding: 10px;
$top-bar-min-width: 1000px;

$nav-height: $top-bar-height;

$top-bar-font-size: 14px;

$sub-nav-padding: 10px;

.top-bar {
    
    @extend %cf;
    position: fixed;

    top: 0; left: 0;
    width: 100%;
    height: $top-bar-height;
    min-width: $top-bar-min-width;
    padding: $top-bar-padding;
    font: {
        family: $top-bar-font-family;
        size: em-calc( $top-bar-font-size );
    };
    
    background: $top-bar-bg;
    z-index: 2;
    

    a {
        text-decoration: none;
        display: block;
    }
    
    > a {
        width: 18%;
        height: $top-bar-height;
        float: left;
        line-height: $top-bar-height - 10px;
        @include ir;
        @include bg( "brackets.png", $position: 10px center, $repeat: no-repeat, $attachment: scroll );
    }

    nav {
        float: left;
        width: 80%;
        height: $top-bar-height - 10px;
    }
}


nav[role='navigation'] {
    
    ul {
        margin: 0;
        padding: 0;
        list-style: none;
    }

    > ul > li {
        width: ( 100 / 5 ) * 1%;
        display: inline-block;
        position: relative;

        > a {
            height: $nav-height;
            line-height: $nav-height;

            color: white;
            text-align: center;
            text-transform: uppercase;
            margin-bottom: $sub-nav-padding;
        }

        &:hover {
            .sub-nav {
                visibility: visible;
                opacity: 1;
            }
        }

        &:nth-child(1) {
            .sub-nav{
                padding-left: 10%;
            }
        }

        &:nth-child(2) {
            .sub-nav {
                padding-left: 25%;
            }
        }

        &:nth-child(3) {
            .sub-nav {
               padding-left: 48%;
            }
        }


        
    }
    
    .sub-nav {
        
        padding: $sub-nav-padding;

        position: fixed;
        visibility: hidden;
        width: 100%;

        background: #fff;
        background: rgba( white, .85 );

        left: 0;
        
        text-transform: uppercase;
        opacity: 0;
        @include transition( opacity .25s ease-in-out );

        a {
            color: #000;
            padding: 2px 5px 0 5px;

            &:after {
                content: "|";
                padding-left: 15px;
            }

        }

        li {
            float: left;
            margin-right: 5px;
            

            &:last-child a:after {
                content: "";
            }
        }
    
        &.show {
            visibility: visible;
        }
    }


}
